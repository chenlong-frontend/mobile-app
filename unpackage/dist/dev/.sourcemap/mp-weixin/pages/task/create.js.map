{"version":3,"sources":["uni-app:///main.js","webpack:///E:/my/factory-flow/pages/task/create.vue?6459","webpack:///E:/my/factory-flow/pages/task/create.vue?a5d4","webpack:///E:/my/factory-flow/pages/task/create.vue?1142","webpack:///E:/my/factory-flow/pages/task/create.vue?0934","uni-app:///pages/task/create.vue","webpack:///E:/my/factory-flow/pages/task/create.vue?0390","webpack:///E:/my/factory-flow/pages/task/create.vue?c5ef"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACyK;AACzK,gBAAgB,mLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL,GAAG;AACH;AACA,WAAW,2RAEN;AACL,GAAG;AACH;AACA,WAAW,mQAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL,GAAG;AACH;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,yQAEN;AACL,GAAG;AACH;AACA,WAAW,iMAEN;AACL,GAAG;AACH;AACA,WAAW,iMAEN;AACL,GAAG;AACH;AACA,WAAW,mNAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAioB,CAAgB,8oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2DrpB;AACA,MADA,kBACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,oBAHA,EADA;;AAMA,kBANA;AAOA,kBAPA;AAQA,qBARA;AASA,qBATA;AAUA,sBAVA;AAWA,oBAXA;AAYA,wBAZA;;AAcA,GAhBA;AAiBA,SAjBA,qBAiBA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA,KAFA;;AAIA,GAzBA;AA0BA;AACA,UADA,oBACA;AACA;AACA;AACA,kCADA;;AAGA,OAJA;AAKA,KAPA;AAQA,eARA,uBAQA,KARA,EAQA;AACA;AACA;AACA;AACA,KAZA;AAaA,eAbA,uBAaA,KAbA,EAaA;AACA;AACA;AACA;AACA,KAjBA;AAkBA,cAlBA,wBAkBA;AACA;AACA,iCADA;AAEA,yBAFA;AAGA,4BAHA;AAIA,0BAJA;;AAMA,KAzBA;AA0BA,iBA1BA,2BA0BA;AACA;AACA,KA5BA;AA6BA,UA7BA,kBA6BA,KA7BA,EA6BA;AACA;AACA;AACA,KAhCA;AAiCA,UAjCA,kBAiCA,KAjCA,EAiCA;AACA;AACA;AACA,KApCA;AAqCA,eArCA,uBAqCA,KArCA,EAqCA;AACA;AACA;AACA,KAxCA;AAyCA,aAzCA,qBAyCA,KAzCA,EAyCA;AACA;AACA;AACA,KA5CA;AA6CA,gBA7CA,wBA6CA,CA7CA,EA6CA;AACA;AACA,KA/CA;AAgDA,gBAhDA,wBAgDA,CAhDA,EAgDA;AACA;AACA,KAlDA;AAmDA,iBAnDA,yBAmDA,CAnDA,EAmDA;AACA;AACA,KArDA;AAsDA,eAtDA,uBAsDA,CAtDA,EAsDA;AACA;AACA,KAxDA,EA1BA,E;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAsrC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;;ACA1sC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/task/create.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/task/create.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./create.vue?vue&type=template&id=d90dac46&scoped=true&\"\nvar renderjs\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=d90dac46&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d90dac46\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/task/create.vue\"\nexport default component.exports","export * from \"-!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create.vue?vue&type=template&id=d90dac46&scoped=true&\"","var components = {\n  pageHead: function() {\n    return import(\n      /* webpackChunkName: \"components/page-head/page-head\" */ \"@/components/page-head/page-head.vue\"\n    )\n  },\n  uForm: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n    )\n  },\n  uFormItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n    )\n  },\n  uInput: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  },\n  uSelect: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n    )\n  },\n  uPicker: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-picker/u-picker\" */ \"@/uview-ui/components/u-picker/u-picker.vue\"\n    )\n  },\n  uRow: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n    )\n  },\n  uCol: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n    )\n  },\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.form.subTasks, function(formItem, index) {\n    var $orig = _vm.__get_orig(formItem)\n\n    var m0 = _vm.getTaskName(formItem.taskTemplateId)\n    var m1 = _vm.getUserName(formItem.userId)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<page-head title=\"任务创建\"></page-head>\r\n\t\t<view class=\"form\">\r\n\t\t\t<u-form>\r\n\t\t\t\t<u-form-item label-width=\"150\" label=\"任务名称\"><u-input v-model=\"form.jobName\" /></u-form-item>\r\n\t\t\t\t<u-form-item label-width=\"150\" label=\"任务描述\"><u-input v-model=\"form.jobDesc\" /></u-form-item>\r\n\t\t\t</u-form>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view style=\"display: flex;font-size: 24rpx;padding: 10rpx 20rpx;\">\r\n\t\t\t<view>\r\n\t\t\t\t<text style=\"font-size: 26rpx;\">子任务</text>\r\n\t\t\t\t<text style=\"color: rgb(145, 145, 145);\">(任务流程)</text>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"padding-left: 30rpx;\">\r\n\t\t\t\t<u-icon color=\"rgba(145, 145, 145, 1)\" size=\"28\" name=\"info-circle-fill\"></u-icon>\r\n\t\t\t\t<text style=\"color: rgb(145, 145, 145);padding-left: 20rpx;\">点击下方+按钮，可增加多个子任务</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"form\" v-for=\"(formItem, index) in form.subTasks\" :key=\"index\">\r\n\t\t\t<u-form-item label-width=\"150\" label=\"任务1\">\r\n\t\t\t\t<u-input @click=\"onTask(index)\" :disabled=\"true\" placeholder=\"请选择子任务\" :value=\"getTaskName(formItem.taskTemplateId)\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label-width=\"150\" label=\"负责人\">\r\n\t\t\t\t<u-input @click=\"onUser(index)\" :disabled=\"true\" placeholder=\"请选择负责人\" :value=\"getUserName(formItem.userId)\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label-width=\"150\" label=\"启动时间\">\r\n\t\t\t\t<u-input @click=\"onStartTime(index)\" :disabled=\"true\" placeholder=\"请选择启动时间\" :value=\"formItem.startDate\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label-width=\"150\" label=\"结束时间\">\r\n\t\t\t\t<u-input @click=\"onEndTime(index)\" :disabled=\"true\" placeholder=\"请选择结束\" :value=\"formItem.endDate\" />\r\n\t\t\t</u-form-item>\r\n\t\t</view>\r\n\t\t\r\n\t\t<u-select v-model=\"taskShow\" @confirm=\"onTaskSelect\" :list=\"taskList\"></u-select>\r\n\t\t<u-select v-model=\"userShow\" @confirm=\"onUserSelect\" :list=\"userList\"></u-select>\r\n\t\t<u-picker v-model=\"startShow\" @confirm=\"onStartSelect\" mode=\"time\"></u-picker>\r\n\t\t<u-picker v-model=\"endShow\" @confirm=\"onEndSelect\" mode=\"time\"></u-picker>\r\n\t\t<view style=\"margin-top: 40rpx;\">\r\n\t\t\t<u-row gutter=\"40\">\r\n\t\t\t\t<u-col span=\"8\">\r\n\t\t\t\t\t<u-button type=\"success\" @click=\"addSubTask\" plain shape=\"square\">新增</u-button>\r\n\t\t\t\t</u-col>\r\n\t\t\t\t<u-col span=\"4\">\r\n\t\t\t\t\t<u-button type=\"success\" @click=\"removeSubTask\" plain shape=\"square\">撤销</u-button>\r\n\t\t\t\t</u-col>\r\n\t\t\t</u-row>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"bottom\">\r\n\t\t\t<u-button @click=\"submit\" type=\"success\">提交</u-button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t  jobName: undefined,\r\n\t\t\t\t  jobDesc: undefined,\r\n\t\t\t\t  subTasks: []\r\n\t\t\t\t},\r\n\t\t\t\ttaskList: [],\r\n\t\t\t\tuserList: [],\r\n\t\t\t\ttaskShow: false,\r\n\t\t\t\tuserShow: false,\r\n\t\t\t\tstartShow: false,\r\n\t\t\t\tendShow: false,\r\n\t\t\t\ttaskSelectIndex: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$u.api.taskTplListByType({taskType: 'node'}).then(data => {\r\n\t\t\t\tthis.taskList = data.map(v => ({value:v.taskCode, label: v.taskName}))\r\n\t\t\t})\r\n\t\t\tthis.$u.api.getUsers().then(data => {\r\n\t\t\t\tthis.userList = data.map(v => ({value:v.userCode, label: `${v.userName}(${v.departMentName})`}))\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmit () {\r\n\t\t\t\tthis.$u.api.createJob(this.form).then(() => {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '/pages/task/index'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetTaskName (value) {\r\n\t\t\t\tconst item = this.taskList.find(v => v.value === value)\r\n\t\t\t\tif (!item) return\r\n\t\t\t\treturn item.label\r\n\t\t\t},\r\n\t\t\tgetUserName (value) {\r\n\t\t\t\tconst item = this.userList.find(v => v.value === value)\r\n\t\t\t\tif (!item) return\r\n\t\t\t\treturn item.label\r\n\t\t\t},\r\n\t\t\taddSubTask () {\r\n\t\t\t\tthis.form.subTasks.push({\r\n\t\t\t\t  taskTemplateId: undefined,\r\n\t\t\t\t  userId: undefined,\r\n\t\t\t\t  startDate: undefined,\r\n\t\t\t\t  endDate: undefined\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveSubTask () {\r\n\t\t\t\tthis.form.subTasks.length > 0 && this.form.subTasks.pop();\r\n\t\t\t},\r\n\t\t\tonTask (index) {\r\n\t\t\t\tthis.taskShow = true\r\n\t\t\t\tthis.taskSelectIndex = index\r\n\t\t\t},\r\n\t\t\tonUser (index) {\r\n\t\t\t\tthis.userShow = true\r\n\t\t\t\tthis.taskSelectIndex = index\r\n\t\t\t},\r\n\t\t\tonStartTime (index) {\r\n\t\t\t\tthis.startShow = true\r\n\t\t\t\tthis.taskSelectIndex = index\r\n\t\t\t},\r\n\t\t\tonEndTime (index) {\r\n\t\t\t\tthis.endShow = true\r\n\t\t\t\tthis.taskSelectIndex = index\r\n\t\t\t},\r\n\t\t\tonUserSelect (e) {\r\n\t\t\t\tthis.form.subTasks[this.taskSelectIndex].userId = e[0].value\r\n\t\t\t},\r\n\t\t\tonTaskSelect (e) {\r\n\t\t\t\tthis.form.subTasks[this.taskSelectIndex].taskTemplateId = e[0].value\r\n\t\t\t},\r\n\t\t\tonStartSelect (e) {\r\n\t\t\t\tthis.form.subTasks[this.taskSelectIndex].startDate = `${e.year}-${e.month}-${e.day}`\r\n\t\t\t},\r\n\t\t\tonEndSelect (e) {\r\n\t\t\t\tthis.form.subTasks[this.taskSelectIndex].endDate = `${e.year}-${e.month}-${e.day}`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.content {\r\n\t\tpadding-bottom: 150rpx;\r\n\t}\r\n\t.form {\r\n\t\tmargin: 20px 0;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding:0 20rpx 0 40rpx;\r\n\t}\r\n\t.bottom {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tbottom: 0;\r\n\t\tpadding: 20rpx;\r\n\t\tz-index: 9999;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create.vue?vue&type=style&index=0&id=d90dac46&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create.vue?vue&type=style&index=0&id=d90dac46&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608030416835\n      var cssReload = require(\"E:/tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}